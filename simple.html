<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>quqå°æ‰‹æœº - ç®€åŒ–ç‰ˆ</title>
    <style>
        /* æç®€æ ·å¼ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: Arial, sans-serif;
            background: #f5f5f5;
            height: 100vh;
            overflow: hidden;
        }
        
        .app-container {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            background: white;
        }
        
        .header {
            height: 50px;
            background: #07c160;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            font-weight: bold;
        }
        
        .content {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
        }
        
        .tab-bar {
            height: 60px;
            display: flex;
            background: white;
            border-top: 1px solid #eee;
        }
        
        .tab-item {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            color: #666;
        }
        
        .tab-item.active {
            color: #07c160;
        }
        
        .tab-icon {
            font-size: 20px;
            margin-bottom: 4px;
        }
        
        .message {
            padding: 15px;
            background: #f0f0f0;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
        }
        
        .btn {
            padding: 12px 20px;
            background: #07c160;
            color: white;
            border: none;
            border-radius: 5px;
            margin: 10px 0;
            cursor: pointer;
            width: 100%;
            font-size: 16px;
        }
        
        .loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
    <!-- åŠ è½½å± -->
    <div class="loading" id="loading">
        <div style="font-size: 30px; margin-bottom: 20px;">ğŸ“±</div>
        <div style="font-size: 20px; margin-bottom: 10px;">quqå°æ‰‹æœº</div>
        <div id="loadingText">æ­£åœ¨å¯åŠ¨...</div>
    </div>
    
    <!-- ä¸»åº”ç”¨ -->
    <div class="app-container hidden" id="app">
        <div class="header">quqå°æ‰‹æœº</div>
        
        <div class="content" id="content">
            <div class="message">
                <h3>åº”ç”¨å¯åŠ¨æˆåŠŸï¼</h3>
                <p>è¿™æ˜¯ä¸€ä¸ªç®€åŒ–çš„æµ‹è¯•ç‰ˆæœ¬ã€‚</p>
            </div>
            
            <button class="btn" onclick="addContact()">æ·»åŠ è”ç³»äºº</button>
            <button class="btn" onclick="showMessage()">æ˜¾ç¤ºé€šçŸ¥</button>
            <button class="btn" onclick="checkStorage()">æ£€æŸ¥å­˜å‚¨</button>
            <button class="btn" onclick="location.href='index.html'">è¿”å›åŸç‰ˆ</button>
            
            <div id="output" style="margin-top: 20px; font-size: 14px; color: #666;"></div>
        </div>
        
        <div class="tab-bar">
            <div class="tab-item active">
                <div class="tab-icon">ğŸ’¬</div>
                <div>èŠå¤©</div>
            </div>
            <div class="tab-item">
                <div class="tab-icon">ğŸ“±</div>
                <div>åŠ¨æ€</div>
            </div>
            <div class="tab-item">
                <div class="tab-icon">ğŸ‘¤</div>
                <div>æˆ‘çš„</div>
            </div>
        </div>
    </div>
    
    <script>
        // æç®€å¯åŠ¨é€»è¾‘
        console.log('ğŸš€ å¼€å§‹å¯åŠ¨...');
        
        // æ˜¾ç¤ºå¯åŠ¨è¿›åº¦
        var loadingText = document.getElementById('loadingText');
        var output = document.getElementById('output');
        
        function updateLoading(text) {
            if (loadingText) loadingText.textContent = text;
            console.log(text);
        }
        
        function showOutput(text) {
            if (output) output.innerHTML += '<div>' + text + '</div>';
        }
        
        // é€æ­¥å¯åŠ¨
        setTimeout(function() {
            updateLoading('æ£€æŸ¥æµè§ˆå™¨æ”¯æŒ...');
            
            // æ£€æŸ¥åŸºæœ¬åŠŸèƒ½
            if (!window.localStorage) {
                updateLoading('âŒ æµè§ˆå™¨ä¸æ”¯æŒlocalStorage');
                showOutput('è¯·ä½¿ç”¨Chromeã€Firefoxã€Safariæˆ–Edgeæµè§ˆå™¨');
                return;
            }
            
            if (!window.JSON) {
                updateLoading('âŒ æµè§ˆå™¨ä¸æ”¯æŒJSON');
                return;
            }
            
            updateLoading('åˆå§‹åŒ–åº”ç”¨...');
            
            // æ£€æŸ¥åŸç‰ˆæ–‡ä»¶æ˜¯å¦å¯ç”¨
            setTimeout(function() {
                updateLoading('æ£€æŸ¥åŸç‰ˆæ–‡ä»¶...');
                
                // å°è¯•åŠ è½½åŸç‰ˆçš„app.js
                var script = document.createElement('script');
                script.src = 'app.js';
                script.onload = function() {
                    updateLoading('åŸç‰ˆæ–‡ä»¶åŠ è½½æˆåŠŸï¼');
                    showOutput('åŸç‰ˆapp.jså¯ç”¨ï¼Œ3ç§’ååˆ‡æ¢...');
                    
                    setTimeout(function() {
                        // éšè—ç®€åŒ–ç‰ˆï¼Œæ˜¾ç¤ºåŸç‰ˆ
                        document.getElementById('loading').classList.add('hidden');
                        document.getElementById('app').classList.add('hidden');
                        
                        // å°è¯•å¯åŠ¨åŸç‰ˆ
                        if (typeof App !== 'undefined') {
                            try {
                                App.init();
                                showOutput('åŸç‰ˆåº”ç”¨å¯åŠ¨æˆåŠŸï¼');
                            } catch (e) {
                                showOutput('åŸç‰ˆå¯åŠ¨å¤±è´¥ï¼š' + e.message);
                                // æ˜¾ç¤ºç®€åŒ–ç‰ˆ
                                document.getElementById('app').classList.remove('hidden');
                            }
                        } else {
                            showOutput('åŸç‰ˆAppå¯¹è±¡æœªæ‰¾åˆ°');
                            document.getElementById('app').classList.remove('hidden');
                        }
                    }, 3000);
                };
                
                script.onerror = function() {
                    updateLoading('åŸç‰ˆæ–‡ä»¶åŠ è½½å¤±è´¥ï¼Œä½¿ç”¨ç®€åŒ–ç‰ˆ');
                    showOutput('åŸç‰ˆapp.jsæ— æ³•åŠ è½½ï¼Œä½¿ç”¨ç®€åŒ–ç‰ˆæœ¬');
                    
                    // ç›´æ¥æ˜¾ç¤ºç®€åŒ–ç‰ˆ
                    setTimeout(function() {
                        document.getElementById('loading').classList.add('hidden');
                        document.getElementById('app').classList.remove('hidden');
                        updateLoading('ç®€åŒ–ç‰ˆå¯åŠ¨å®Œæˆ');
                    }, 1000);
                };
                
                document.head.appendChild(script);
                
            }, 1000);
            
        }, 500);
        
        // ç®€åŒ–ç‰ˆåŠŸèƒ½
        function addContact() {
            var name = prompt('è¯·è¾“å…¥è”ç³»äººå§“åï¼š');
            if (name) {
                showOutput('æ·»åŠ è”ç³»äººï¼š' + name);
                alert('è”ç³»äºº ' + name + ' å·²æ·»åŠ ');
            }
        }
        
        function showMessage() {
            showOutput('æ˜¾ç¤ºé€šçŸ¥ï¼š' + new Date().toLocaleTimeString());
            alert('æµ‹è¯•é€šçŸ¥ï¼');
        }
        
        function checkStorage() {
            var count = localStorage.length;
            showOutput('å­˜å‚¨ä¸­æœ‰ ' + count + ' ä¸ªé¡¹ç›®');
            
            if (count > 0) {
                var items = [];
                for (var i = 0; i < Math.min(count, 5); i++) {
                    var key = localStorage.key(i);
                    items.push(key);
                }
                showOutput('å‰5ä¸ªé¡¹ç›®ï¼š' + items.join(', '));
            }
        }
        
        // æ ‡ç­¾åˆ‡æ¢
        var tabs = document.querySelectorAll('.tab-item');
        tabs.forEach(function(tab, index) {
            tab.addEventListener('click', function() {
                tabs.forEach(function(t) {
                    t.classList.remove('active');
                });
                this.classList.add('active');
                
                var pages = ['èŠå¤©', 'åŠ¨æ€', 'æˆ‘çš„'];
                showOutput('åˆ‡æ¢åˆ°ï¼š' + pages[index]);
            });
        });
        
        // 5ç§’åæ— è®ºå¦‚ä½•éƒ½æ˜¾ç¤º
        setTimeout(function() {
            if (!document.getElementById('app').classList.contains('hidden')) return;
            
            document.getElementById('loading').classList.add('hidden');
            document.getElementById('app').classList.remove('hidden');
            showOutput('è‡ªåŠ¨è¶…æ—¶æ˜¾ç¤º');
        }, 8000);
        
        console.log('âœ… å¯åŠ¨è„šæœ¬åŠ è½½å®Œæˆ');
    </script>
</body>
</html>